<?php

namespace {{pascalcase namespace}}\Services;

use Roots\Bud\Services\ServiceProvider;
use Roots\Bud\Container\Contracts\ContainerInterface;

/**
 * Register client assets
 */
class Register extends ServiceProvider
{
    /** @var ContainerInterface */
    public $bud;

    /**
      * Boot plugin service.
      *
      * @return void
      */
    public function boot(): void
    {
        $this->registerAssets();
    }

    /**
     * Register assets on init.
     *
     * @return void
     */
    public function registerAssets(): void
    {
        wp_register_script(
            'editor/script',
            $this->bud['manifest']->asset('editor.js')->url(),
            $this->bud['manifest']->asset('editor.json')->dependencies(),
            null,
        );

        wp_register_style(
            'editor/style',
            $this->bud['manifest']->asset('editor.css')->url(),
            [],
            null,
        );
    }

    /**
     * On wp_enqueue_scripts.
     *
     * @return void
     */
    public function enqueueScripts(): void
    {
        wp_enqueue_script('editor/script');
        wp_enqueue_style('editor/style');
    }
}
